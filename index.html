<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello WRLD! • A-Frame three.ar.js</title>
        <meta name="description" content="Hello WRLD! • A-Frame three.ar.js">
        <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
        <script src="https://rawgit.com/google-ar/three.ar.js/master/dist/three.ar.js"></script>
        <script src="https://rawgit.com/chenzlabs/aframe-ar/master/dist/aframe-ar.js"></script>
    </head>
    <body>
        <a-scene ar>
            <a-plane id="plane" position="0 0 0" rotation="-90 0 0" width="0.5" height="0.5" color="#7BC8A4" shadow>
                <a-sphere id="sphere" position="0 0 0" radius=".10" color="#EF2D5E" shadow></a-sphere>
            </a-plane>
            <a-entity ar-raycaster raycaster="objects:none"></a-entity>
            <a-ring id="mark" rotation="-90 0 0" radius-inner="0.01" radius-outer="0.02">
                <a-ring color="yellow" radius-inner="0.03" radius-outer="0.04">
                    <a-animation
                        attribute="scale"
                        from="1 1 1"
                        to="2 2 2"
                        direction="alternate"
                        dur="1000"
                        repeat="indefinite"></a-animation>
                </a-ring>
                <a-ring color="yellow" radius-inner="0.05" radius-outer="0.06">
                    <a-animation
                        attribute="scale"
                        from="1 1 1"
                        to="3 3 3"
                        direction="alternate"
                        dur="1000"
                        repeat="indefinite"></a-animation>
                </a-ring>
            </a-ring>
        </a-scene>
        <script type="text/javascript">
            window.addEventListener('click', function () {
                var mark = document.querySelector('#mark');
                var el = document.querySelector('#plane');
                el.setAttribute('position', mark.getAttribute('position'));
            });

            var raycaster = document.querySelector('[ar-raycaster]');
            var mark = document.querySelector('#mark');

            raycaster.addEventListener('raycaster-intersection', function (evt) {
                // Turn the mark green and move it to the intersection point.
                mark.setAttribute('color', 'green');
                mark.setAttribute('position', evt.detail.intersections[0].point);
            });
            raycaster.addEventListener('raycaster-intersection-cleared', function (evt) {
                // Turn the mark red.
                mark.setAttribute('color', 'red');
            });

        </script>
    </body>
</html>
